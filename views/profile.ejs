<%- include("partials/header") %>

<body class="profile-body">
    <header>
        <%- include("partials/nav") %>
    </header>

    <main>
        <section class="profile-wrapper">
            <h1 class="profile-title">Mijn Profiel</h1>

            <div class="profile-info">
                <div class="profile-item">
                    <span class="profile-label">Gebruikersnaam:</span>
                    <span class="profile-value" id="usernameDisplay"><%= user?.username %></span>
                    <button class="edit-btn" onclick="editField('username')">ðŸ–‰</button>
                </div>

                <div class="profile-item">
                    <span class="profile-label">Email:</span>
                    <span class="profile-value" id="emailDisplay"><%= user?.email %></span>
                    <button class="edit-btn" onclick="editField('email')">ðŸ–‰</button>
                </div>

                <div class="profile-item">
                    <span class="profile-label">Avatar:</span>
                    <span class="profile-value" id="avatarDisplay"><%= user?.avatar %></span>
                    <button class="edit-btn" onclick="editField('avatar')">ðŸ–‰</button>
                </div>

                <form id="editForm" method="POST" action="/profile/update" class="edit-form hidden">
                    <input type="text" id="usernameInput" name="username" placeholder="Nieuwe gebruikersnaam">
                    <input type="email" id="emailInput" name="email" placeholder="Nieuwe email">
                    <select name="avatar" id="avatarInput">
                        <option value="aragorn">Aragorn</option>
                        <option value="legolas">Legolas</option>
                        <option value="gandalf">Gandalf</option>
                        <option value="frodo">Frodo</option>
                    </select>
                    <button type="submit" class="btn-save">Opslaan</button>
                </form>

                <div class="profile-actions">
                    <form method="POST" action="/logout">
                        <button type="submit" class="btn-logout">Log uit</button>
                    </form>
                    <form method="POST" action="/profile/delete" onsubmit="return confirm('Weet je zeker dat je je account wilt verwijderen?')">
                        <button type="submit" class="btn-delete">Verwijder account</button>
                    </form>
                </div>
            </div>
        </section>
    </main>

    <footer>
        LOTR Â© 2025
    </footer>

    <script>
        function editField(field) {
            document.getElementById('editForm').classList.remove('hidden');

            if (field === 'username') {
                document.getElementById('usernameInput').value = document.getElementById('usernameDisplay').textContent;
            } else if (field === 'email') {
                document.getElementById('emailInput').value = document.getElementById('emailDisplay').textContent;
            } else if (field === 'avatar') {
                document.getElementById('avatarInput').value = document.getElementById('avatarDisplay').textContent.toLowerCase();
            }
        }
    </script>
</body>
</html>